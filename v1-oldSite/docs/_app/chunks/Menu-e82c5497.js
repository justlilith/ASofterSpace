import{C as e,S as t,i as s,s as n,e as a,t as o,k as c,c as r,a as l,g as i,d as u,n as d,b as h,Q as m,f,H as g,R as p,a0 as b,l as y,K as v,x as E,r as w,u as A,w as I,W as S}from"./vendor-1f515b18.js";const k=e("deep-blue"),N=e([]);{const e=window.localStorage;console.log(e)}const $=e=>{e.setItem("chats",""),O("stash cleared! c:",3e3)},B=(e,t,s)=>{const n=["deep-blue","deep-pink","soft-blue","soft-pink"];let a,o;try{if(a=JSON.parse(e.getItem("theme")),!a)throw new Error("theme not found :<");t.update((()=>{let e=0;return e=n.indexOf(a),n[e]})),console.log(`theme found: ${a}`)}catch(c){a="",console.log(c)}try{if(o=JSON.parse(e.getItem("listener")),!o)throw new Error("no listener stored");console.log(`listener found: ${o}`)}catch(c){o="the sun",console.warn(c),console.log("defaulting to sun)))")}o=function(e){const t=document.getElementById("p5Sketch"),s=document.getElementById("p5Sketch2");switch(e){case"the sun":t.setAttribute("class",""),s.setAttribute("class","hidden");break;default:case"the cube":t.setAttribute("class","hidden"),s.setAttribute("class","")}return O(`${e} is now listening to you! c:`,3e3),e}(o);switch(document.getElementsByTagName("html")[0].className=a,s){case"theme":return a;case"listener":return o;default:return}};function O(e,t){t||(t=2e3);const s=new Int8Array(1),n={message:e,duration:t,id:crypto.getRandomValues(s)[0]};N.update((e=>(console.log(e),console.log("message added: "+JSON.stringify(n)),[...e,n])))}const x=(e,t)=>{O("downloading chat! c:",1e3),e=e||"Saved Chat";const s=t.map((e=>`${e.timestamp} from ${e.sender}:\n\t${e.content}\n\t`)).join("\n");console.log(s);const n=`${e} (from ${(new Date).toDateString()})`,a=new File([s],n,{type:"text/plain"}),o=document.createElement("a");o.setAttribute("id",a.name),o.setAttribute("download",n);const c=URL.createObjectURL(a);o.setAttribute("href",c),document.body.append(o),o.click(),o.onload=()=>{URL.revokeObjectURL(c)},document.body.removeChild(o)},C=(e,t,s)=>{e.setItem("chats",JSON.stringify(s)),console.log(e.getItem("chats")),O("chat stashed! c:",1e3)};function L(e,t){O(`${t.toUpperCase()} is now listening to you! c:`,3e3);const s=document.getElementById("p5Sketch"),n=document.getElementById("p5Sketch2");switch(t){case"the sun":s.setAttribute("class","hidden"),n.setAttribute("class",""),t="the cube";break;default:case"the cube":s.setAttribute("class",""),n.setAttribute("class","hidden"),t="the sun"}return U(e,"listener",t),t}function U(e,t,s){e.setItem(t,JSON.stringify(s)),console.log(e.getItem(t))}function R(e,t){const s=["deep-blue","deep-pink","soft-blue","soft-pink"],n=document.createElement("div");n.id="interstitial",document.body.prepend(n),setTimeout((()=>{k.update((()=>{let e=0;return e=(s.indexOf(t)+1)%s.length,s[e]})),console.log(`theme updated to ${t} :>`);document.getElementsByTagName("html")[0].className=t,U(e,"theme",t)}),150),setTimeout((()=>{document.getElementById("interstitial")&&document.body.removeChild(document.getElementById("interstitial")),O(`your new theme is ${t}! c:`,3e3)}),300)}function T(e){let t,s,n,y,v,E,w,A,I,k,N,$;return{c(){t=a("nav"),s=a("ul"),n=a("li"),y=a("a"),v=o("Chat"),E=c(),w=a("li"),A=a("a"),I=o("Settings"),this.h()},l(e){t=r(e,"NAV",{class:!0});var a=l(t);s=r(a,"UL",{});var o=l(s);n=r(o,"LI",{class:!0});var c=l(n);y=r(c,"A",{href:!0});var h=l(y);v=i(h,"Chat"),h.forEach(u),c.forEach(u),E=d(o),w=r(o,"LI",{class:!0});var m=l(w);A=r(m,"A",{href:!0});var f=l(A);I=i(f,"Settings"),f.forEach(u),m.forEach(u),o.forEach(u),a.forEach(u),this.h()},h(){h(y,"href","/"),h(n,"class","svelte-436n29"),h(A,"href","/settings"),h(w,"class","svelte-436n29"),h(t,"class",k=m(e[0])+" svelte-436n29")},m(e,a){f(e,t,a),g(t,s),g(s,n),g(n,y),g(y,v),g(s,E),g(s,w),g(w,A),g(A,I),$=!0},p(e,s){(!$||1&s&&k!==(k=m(e[0])+" svelte-436n29"))&&h(t,"class",k)},i(e){$||(p((()=>{N||(N=b(t,S,{duration:300,x:200},!0)),N.run(1)})),$=!0)},o(e){N||(N=b(t,S,{duration:300,x:200},!1)),N.run(0),$=!1},d(e){e&&u(t),e&&N&&N.end()}}}function J(e){let t,s,n,m,p,b,S,k,N=e[1]&&T(e);return{c(){t=a("button"),s=a("span"),n=o("menu"),m=c(),N&&N.c(),p=y(),this.h()},l(e){t=r(e,"BUTTON",{id:!0,class:!0});var a=l(t);s=r(a,"SPAN",{class:!0});var o=l(s);n=i(o,"menu"),o.forEach(u),a.forEach(u),m=d(e),N&&N.l(e),p=y(),this.h()},h(){h(s,"class","material-icons"),h(t,"id","menuButton"),h(t,"class","svelte-436n29")},m(a,o){f(a,t,o),g(t,s),g(s,n),f(a,m,o),N&&N.m(a,o),f(a,p,o),b=!0,S||(k=v(t,"click",e[2]),S=!0)},p(e,[t]){e[1]?N?(N.p(e,t),2&t&&E(N,1)):(N=T(e),N.c(),E(N,1),N.m(p.parentNode,p)):N&&(w(),A(N,1,1,(()=>{N=null})),I())},i(e){b||(E(N),b=!0)},o(e){A(N),b=!1},d(e){e&&u(t),e&&u(m),N&&N.d(e),e&&u(p),S=!1,k()}}}function j(e,t,s){let{theme:n=""}=t,a=!1;return e.$$set=e=>{"theme"in e&&s(0,n=e.theme)},[n,a,()=>s(1,a=!a)]}class D extends t{constructor(e){super(),s(this,e,j,J,n,{theme:0})}}export{D as M,x as a,k as b,$ as c,L as d,B as f,C as s,N as t,R as u};
