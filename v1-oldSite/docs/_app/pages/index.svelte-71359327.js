import{S as e,i as t,s,e as a,k as n,t as l,c as i,a as c,n as o,g as r,d as h,b as u,f,H as m,J as d,K as g,L as v,M as p,I as $,N,O as E,P as b,Q as w,h as S,l as k,x as L,R as T,T as I,U as D,r as C,u as y,w as O,V as P,W as x,X as V,Y as A,Z as U,j as B,_ as M,m as j,o as z,$ as q,v as K,A as _,a0 as J,a1 as Y}from"../chunks/vendor-1f515b18.js";import{c as H,s as Q,a as R,t as W,M as X,f as Z,b as F}from"../chunks/Menu-e82c5497.js";function G(e){let t,s,E,b,w,S,k,L,T,I;return{c(){t=a("section"),s=a("input"),E=n(),b=a("div"),w=a("button"),S=a("span"),k=l("send"),L=l("\r\n\t\t\tSend"),this.h()},l(e){t=i(e,"SECTION",{id:!0,class:!0});var a=c(t);s=i(a,"INPUT",{id:!0,class:!0}),E=o(a),b=i(a,"DIV",{id:!0,class:!0});var n=c(b);w=i(n,"BUTTON",{});var l=c(w);S=i(l,"SPAN",{class:!0});var u=c(S);k=r(u,"send"),u.forEach(h),L=r(l,"\r\n\t\t\tSend"),l.forEach(h),n.forEach(h),a.forEach(h),this.h()},h(){u(s,"id","textInput"),u(s,"class","svelte-1rbu9a4"),u(S,"class","material-icons"),u(b,"id","submit"),u(b,"class","svelte-1rbu9a4"),u(t,"id","inputArea"),u(t,"class","svelte-1rbu9a4")},m(a,n){f(a,t,n),m(t,s),d(s,e[0]),m(t,E),m(t,b),m(b,w),m(w,S),m(S,k),m(w,L),T||(I=[g(s,"input",e[8]),g(s,"keypress",(function(){v(e[2].bind(e[0]))&&e[2].bind(e[0]).apply(this,arguments)})),g(w,"mousedown",e[9]),g(t,"click",p(e[7]))],T=!0)},p(t,[a]){e=t,1&a&&s.value!==e[0]&&d(s,e[0])},i:$,o:$,d(e){e&&h(t),T=!1,N(I)}}}function ee(e,t,s){let{messageList:a}=t,{timer:n=0}=t,{chatName:l}=t,{fileName:i}=t,c="";E();const o=e=>{switch(e[0]){case"/":let t=e.slice(1).split(" ");switch(t[0]){case"save":R(i,a);break;case"stash":Q(window.localStorage,l,a);break;case"clear":switch(console.log(t),t[1]){case"stash":H(window.localStorage);break;case"chat":s(3,a=[]);break;default:e="invalid input"}break;default:e="invalid input"}break;default:r(e)}},r=e=>{if(!e)return;let t=new Date,n=t.toLocaleTimeString(),l=t.toLocaleDateString().split("/").reverse().join(".");s(3,a=[...a,{content:e,sender:"user",timestamp:`${l} - ${n}`}]),s(0,c="")};return e.$$set=e=>{"messageList"in e&&s(3,a=e.messageList),"timer"in e&&s(4,n=e.timer),"chatName"in e&&s(5,l=e.chatName),"fileName"in e&&s(6,i=e.fileName)},[c,o,e=>{"enter"==e.key.toLowerCase()&&(o(c),s(0,c="")),s(4,n=7)},a,n,l,i,function(t){b.call(this,e,t)},function(){c=this.value,s(0,c)},e=>{o(c),e.preventDefault()}]}class te extends e{constructor(e){super(),t(this,e,ee,G,s,{messageList:3,timer:4,chatName:5,fileName:6})}}function se(e){let t,s,d,g,v,p,N,E=e[0].timestamp+"",b=e[0].content+"";return{c(){t=a("div"),s=a("span"),d=l(E),g=n(),v=a("p"),p=l(b),this.h()},l(e){t=i(e,"DIV",{class:!0});var a=c(t);s=i(a,"SPAN",{class:!0});var n=c(s);d=r(n,E),n.forEach(h),a.forEach(h),g=o(e),v=i(e,"P",{class:!0});var l=c(v);p=r(l,b),l.forEach(h),this.h()},h(){u(s,"class","timestamp svelte-1gbq3y0"),u(t,"class","timestamp svelte-1gbq3y0"),u(v,"class",N=w(e[0].sender)+" svelte-1gbq3y0")},m(e,a){f(e,t,a),m(t,s),m(s,d),f(e,g,a),f(e,v,a),m(v,p)},p(e,[t]){1&t&&E!==(E=e[0].timestamp+"")&&S(d,E),1&t&&b!==(b=e[0].content+"")&&S(p,b),1&t&&N!==(N=w(e[0].sender)+" svelte-1gbq3y0")&&u(v,"class",N)},i:$,o:$,d(e){e&&h(t),e&&h(g),e&&h(v)}}}function ae(e,t,s){let{message:a}=t;return e.$$set=e=>{"message"in e&&s(0,a=e.message)},[a]}class ne extends e{constructor(e){super(),t(this,e,ae,se,s,{message:0})}}function le(e){let t,s,v,p,E,b,w,S,k,L=function(e){let t,s,d,v,p,E,b,w,S,k,L,T,I,D,C,y;return{c(){t=a("div"),s=a("button"),d=a("span"),v=l("Stash Chat"),p=n(),E=a("div"),b=a("button"),w=a("span"),S=l("Save Chat"),k=n(),L=a("div"),T=a("button"),I=a("span"),D=l("Clear Stash"),this.h()},l(e){t=i(e,"DIV",{id:!0,class:!0});var a=c(t);s=i(a,"BUTTON",{});var n=c(s);d=i(n,"SPAN",{});var l=c(d);v=r(l,"Stash Chat"),l.forEach(h),n.forEach(h),a.forEach(h),p=o(e),E=i(e,"DIV",{id:!0,class:!0});var u=c(E);b=i(u,"BUTTON",{});var f=c(b);w=i(f,"SPAN",{});var m=c(w);S=r(m,"Save Chat"),m.forEach(h),f.forEach(h),u.forEach(h),k=o(e),L=i(e,"DIV",{id:!0,class:!0});var g=c(L);T=i(g,"BUTTON",{});var $=c(T);I=i($,"SPAN",{});var N=c(I);D=r(N,"Clear Stash"),N.forEach(h),$.forEach(h),g.forEach(h),this.h()},h(){u(t,"id","stash-chat"),u(t,"class","svelte-1ish562"),u(E,"id","save-chat"),u(E,"class","svelte-1ish562"),u(L,"id","clear-stash"),u(L,"class","svelte-1ish562")},m(a,n){f(a,t,n),m(t,s),m(s,d),m(d,v),f(a,p,n),f(a,E,n),m(E,b),m(b,w),m(w,S),f(a,k,n),f(a,L,n),m(L,T),m(T,I),m(I,D),C||(y=[g(s,"click",e[6]),g(b,"click",e[7]),g(T,"click",e[8])],C=!0)},p:$,d(e){e&&h(t),e&&h(p),e&&h(E),e&&h(k),e&&h(L),C=!1,N(y)}}}(e);return{c(){t=a("input"),s=n(),L&&L.c(),v=n(),p=a("div"),E=a("button"),b=a("span"),w=l("Clear Chat"),this.h()},l(e){t=i(e,"INPUT",{id:!0,placeholder:!0,class:!0}),s=o(e),L&&L.l(e),v=o(e),p=i(e,"DIV",{id:!0,class:!0});var a=c(p);E=i(a,"BUTTON",{});var n=c(E);b=i(n,"SPAN",{});var l=c(b);w=r(l,"Clear Chat"),l.forEach(h),n.forEach(h),a.forEach(h),this.h()},h(){u(t,"id","name"),u(t,"placeholder","Name this chat, please c:"),u(t,"class","svelte-1ish562"),u(p,"id","clear-chat"),u(p,"class","svelte-1ish562")},m(a,n){f(a,t,n),d(t,e[0]),f(a,s,n),L&&L.m(a,n),f(a,v,n),f(a,p,n),m(p,E),m(E,b),m(b,w),S||(k=[g(t,"input",e[5]),g(E,"click",e[9])],S=!0)},p(e,s){1&s&&t.value!==e[0]&&d(t,e[0]),L.p(e,s)},d(e){e&&h(t),e&&h(s),L&&L.d(e),e&&h(v),e&&h(p),S=!1,N(k)}}}function ie(e){let t,s,d,v,p,N,E,b=1==e[2]&&le(e);return{c(){t=a("aside"),s=a("div"),d=a("button"),v=l("Chat Options"),p=n(),b&&b.c(),this.h()},l(e){t=i(e,"ASIDE",{id:!0,class:!0});var a=c(t);s=i(a,"DIV",{id:!0,class:!0});var n=c(s);d=i(n,"BUTTON",{});var l=c(d);v=r(l,"Chat Options"),l.forEach(h),n.forEach(h),p=o(a),b&&b.l(a),a.forEach(h),this.h()},h(){u(s,"id","toggle-button"),u(s,"class","svelte-1ish562"),u(t,"id","stash-component"),u(t,"class","svelte-1ish562")},m(a,n){f(a,t,n),m(t,s),m(s,d),m(d,v),m(t,p),b&&b.m(t,null),N||(E=g(d,"click",e[4]),N=!0)},p(e,[s]){1==e[2]?b?b.p(e,s):(b=le(e),b.c(),b.m(t,null)):b&&(b.d(1),b=null)},i:$,o:$,d(e){e&&h(t),b&&b.d(),N=!1,E()}}}function ce(e,t,s){(new Date).toDateString().replace(/\s/g,"-");let a=!1,{chatName:n=""}=t,{messageList:l}=t;const i=e=>(e=!e,console.log(e),e);return e.$$set=e=>{"chatName"in e&&s(0,n=e.chatName),"messageList"in e&&s(1,l=e.messageList)},[n,l,a,i,()=>{s(2,a=i(a))},function(){n=this.value,s(0,n)},()=>{Q(window.localStorage,n,l)},()=>{R(n,l)},()=>{H(window.localStorage)},()=>{s(1,l=[])}]}class oe extends e{constructor(e){super(),t(this,e,ce,ie,s,{chatName:0,messageList:1})}}function re(e,t,s){const a=e.slice();return a[5]=t[s],a}function he(e){let t,s,a=e[1],n=[];for(let i=0;i<a.length;i+=1)n[i]=fe(re(e,a,i));const l=e=>y(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=k()},l(e){for(let t=0;t<n.length;t+=1)n[t].l(e);t=k()},m(e,a){for(let t=0;t<n.length;t+=1)n[t].m(e,a);f(e,t,a),s=!0},p(e,s){if(14&s){let i;for(a=e[1],i=0;i<a.length;i+=1){const l=re(e,a,i);n[i]?(n[i].p(l,s),L(n[i],1)):(n[i]=fe(l),n[i].c(),L(n[i],1),n[i].m(t.parentNode,t))}for(C(),i=a.length;i<n.length;i+=1)l(i);O()}},i(e){if(!s){for(let e=0;e<a.length;e+=1)L(n[e]);s=!0}},o(e){n=n.filter(Boolean);for(let t=0;t<n.length;t+=1)y(n[t]);s=!1},d(e){P(n,e),e&&h(t)}}}function ue(e){let t,s,d,g,v,p,$=e[3](e[5])+"";return{c(){t=a("div"),s=l($),d=n(),this.h()},l(e){t=i(e,"DIV",{class:!0});var a=c(t);s=r(a,$),d=o(a),a.forEach(h),this.h()},h(){u(t,"class","toastMessage svelte-tgtuc9")},m(e,a){f(e,t,a),m(t,s),m(t,d),p=!0},p(e,t){(!p||2&t)&&$!==($=e[3](e[5])+"")&&S(s,$)},i(e){p||(T((()=>{v&&v.end(1),g=I(t,x,{duration:500,y:-100}),g.start()})),p=!0)},o(e){g&&g.invalidate(),v=D(t,V,{duration:400}),p=!1},d(e){e&&h(t),e&&v&&v.end()}}}function fe(e){let t,s,a=!e[2]&&ue(e);return{c(){a&&a.c(),t=k()},l(e){a&&a.l(e),t=k()},m(e,n){a&&a.m(e,n),f(e,t,n),s=!0},p(e,s){e[2]?a&&(C(),y(a,1,1,(()=>{a=null})),O()):a?(a.p(e,s),4&s&&L(a,1)):(a=ue(e),a.c(),L(a,1),a.m(t.parentNode,t))},i(e){s||(L(a),s=!0)},o(e){y(a),s=!1},d(e){a&&a.d(e),e&&h(t)}}}function me(e){var t;let s,n,l,o=(null==(t=e[1])?void 0:t.length)>0&&he(e);return{c(){s=a("div"),o&&o.c(),this.h()},l(e){s=i(e,"DIV",{class:!0,id:!0});var t=c(s);o&&o.l(t),t.forEach(h),this.h()},h(){u(s,"class",n=w(e[0])+" svelte-tgtuc9"),u(s,"id","toastContainer")},m(e,t){f(e,s,t),o&&o.m(s,null),l=!0},p(e,[t]){var a;(null==(a=e[1])?void 0:a.length)>0?o?(o.p(e,t),2&t&&L(o,1)):(o=he(e),o.c(),L(o,1),o.m(s,null)):o&&(C(),y(o,1,1,(()=>{o=null})),O()),(!l||1&t&&n!==(n=w(e[0])+" svelte-tgtuc9"))&&u(s,"class",n)},i(e){l||(L(o),l=!0)},o(e){y(o),l=!1},d(e){e&&h(s),o&&o.d()}}}function de(e,t,s){let a,n,{theme:l=""}=t,i=!1;return W.subscribe((e=>{e&&(console.log(e),s(1,a=e))})),e.$$set=e=>{"theme"in e&&s(0,l=e.theme)},[l,a,i,function(e){return s(2,i=!0),console.log("now serving"),n=a.filter((t=>e.id==t.id))[0],a.indexOf(e),setTimeout((()=>{console.log("loading next toast"),s(1,a=a.filter((t=>e.id!==t.id))),W.update((()=>a)),s(2,i=!1)}),2*n.duration),e.message}]}class ge extends e{constructor(e){super(),t(this,e,de,me,s,{theme:0})}}function ve(e,t,s){const a=e.slice();return a[18]=t[s],a}function pe(e){let t,s,n,o;return{c(){t=a("p"),s=l("Talk to me."),this.h()},l(e){t=i(e,"P",{class:!0});var a=c(t);s=r(a,"Talk to me."),a.forEach(h),this.h()},h(){u(t,"class","svelte-rzscfc")},m(e,a){f(e,t,a),m(t,s),o=!0},p:$,i(e){o||(e&&T((()=>{n||(n=J(t,V,{},!0)),n.run(1)})),o=!0)},o(e){e&&(n||(n=J(t,V,{},!1)),n.run(0)),o=!1},d(e){e&&h(t),e&&n&&n.end()}}}function $e(e){let t,s,a=e[0],n=[];for(let i=0;i<a.length;i+=1)n[i]=Ne(ve(e,a,i));const l=e=>y(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=k()},l(e){for(let t=0;t<n.length;t+=1)n[t].l(e);t=k()},m(e,a){for(let t=0;t<n.length;t+=1)n[t].m(e,a);f(e,t,a),s=!0},p(e,s){if(1&s){let i;for(a=e[0],i=0;i<a.length;i+=1){const l=ve(e,a,i);n[i]?(n[i].p(l,s),L(n[i],1)):(n[i]=Ne(l),n[i].c(),L(n[i],1),n[i].m(t.parentNode,t))}for(C(),i=a.length;i<n.length;i+=1)l(i);O()}},i(e){if(!s){for(let e=0;e<a.length;e+=1)L(n[e]);s=!0}},o(e){n=n.filter(Boolean);for(let t=0;t<n.length;t+=1)y(n[t]);s=!1},d(e){P(n,e),e&&h(t)}}}function Ne(e){let t,s,l,r,u;return s=new ne({props:{message:e[18]}}),{c(){t=a("span"),B(s.$$.fragment),l=n()},l(e){t=i(e,"SPAN",{});var a=c(t);j(s.$$.fragment,a),l=o(a),a.forEach(h)},m(e,a){f(e,t,a),z(s,t,null),m(t,l),u=!0},p(e,t){const a={};1&t&&(a.message=e[18]),s.$set(a)},i(e){u||(L(s.$$.fragment,e),T((()=>{r||(r=J(t,Y,{duration:200},!0)),r.run(1)})),u=!0)},o(e){y(s.$$.fragment,e),r||(r=J(t,Y,{duration:200},!1)),r.run(0),u=!1},d(e){e&&h(t),K(s),e&&r&&r.end()}}}function Ee(e){let t,s,l,r,d,g,p,$,N,E,b,S,k,T,I,D,P,x,V,_,J,Y;s=new X({});const H=[$e,pe],Q=[];function R(e,t){return 0!==e[0].length?0:1}function W(t){e[7](t)}function Z(t){e[8](t)}function F(t){e[9](t)}function G(t){e[10](t)}p=R(e),$=Q[p]=H[p](e);let ee={};function se(t){e[12](t)}function ae(t){e[13](t)}void 0!==e[0]&&(ee.messageList=e[0]),void 0!==e[1]&&(ee.timer=e[1]),void 0!==e[3]&&(ee.chatName=e[3]),void 0!==e[4]&&(ee.fileName=e[4]),E=new te({props:ee}),A.push((()=>U(E,"messageList",W))),A.push((()=>U(E,"timer",Z))),A.push((()=>U(E,"chatName",F))),A.push((()=>U(E,"fileName",G))),E.$on("click",e[11]),E.$on("voidInvoked",(function(){v(e[6].bind(e[1],e[5],e[0]))&&e[6].bind(e[1],e[5],e[0]).apply(this,arguments)}));let ne={};return void 0!==e[0]&&(ne.messageList=e[0]),void 0!==e[3]&&(ne.chatName=e[3]),D=new oe({props:ne}),A.push((()=>U(D,"messageList",se))),A.push((()=>U(D,"chatName",ae))),_=new ge({props:{theme:e[2]}}),{c(){t=n(),B(s.$$.fragment),l=n(),r=a("main"),d=a("div"),g=a("section"),$.c(),N=n(),B(E.$$.fragment),I=n(),B(D.$$.fragment),V=n(),B(_.$$.fragment),this.h()},l(e){M('[data-svelte="svelte-1a5pwot"]',document.head).forEach(h),t=o(e),j(s.$$.fragment,e),l=o(e),r=i(e,"MAIN",{class:!0});var a=c(r);d=i(a,"DIV",{id:!0,class:!0});var n=c(d);g=i(n,"SECTION",{id:!0,class:!0});var u=c(g);$.l(u),u.forEach(h),n.forEach(h),N=o(a),j(E.$$.fragment,a),I=o(a),j(D.$$.fragment,a),V=o(a),j(_.$$.fragment,a),a.forEach(h),this.h()},h(){document.title="a softer space",u(g,"id","animatedList"),u(g,"class","svelte-rzscfc"),u(d,"id","messages"),u(d,"class","svelte-rzscfc"),u(r,"class",J=w(e[2])+" svelte-rzscfc")},m(e,a){f(e,t,a),z(s,e,a),f(e,l,a),f(e,r,a),m(r,d),m(d,g),Q[p].m(g,null),m(r,N),z(E,r,null),m(r,I),z(D,r,null),m(r,V),z(_,r,null),Y=!0},p(t,[s]){let a=p;p=R(e=t),p===a?Q[p].p(e,s):(C(),y(Q[a],1,1,(()=>{Q[a]=null})),O(),$=Q[p],$?$.p(e,s):($=Q[p]=H[p](e),$.c()),L($,1),$.m(g,null));const n={};!b&&1&s&&(b=!0,n.messageList=e[0],q((()=>b=!1))),!S&&2&s&&(S=!0,n.timer=e[1],q((()=>S=!1))),!k&&8&s&&(k=!0,n.chatName=e[3],q((()=>k=!1))),!T&&16&s&&(T=!0,n.fileName=e[4],q((()=>T=!1))),E.$set(n);const l={};!P&&1&s&&(P=!0,l.messageList=e[0],q((()=>P=!1))),!x&&8&s&&(x=!0,l.chatName=e[3],q((()=>x=!1))),D.$set(l);const i={};4&s&&(i.theme=e[2]),_.$set(i),(!Y||4&s&&J!==(J=w(e[2])+" svelte-rzscfc"))&&u(r,"class",J)},i(e){Y||(L(s.$$.fragment,e),L($),L(E.$$.fragment,e),L(D.$$.fragment,e),L(_.$$.fragment,e),Y=!0)},o(e){y(s.$$.fragment,e),y($),y(E.$$.fragment,e),y(D.$$.fragment,e),y(_.$$.fragment,e),Y=!1},d(e){e&&h(t),K(s,e),e&&h(l),e&&h(r),Q[p].d(),K(E),K(D),K(_)}}}function be(e,t,s){var a=this&&this.__awaiter||function(e,t,s,a){return new(s||(s=Promise))((function(n,l){function i(e){try{o(a.next(e))}catch(t){l(t)}}function c(e){try{o(a.throw(e))}catch(t){l(t)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,c)}o((a=a.apply(e,t||[])).next())}))};let n="soft-blue",{messageList:l=[],timer:i=8}=t;_((()=>a(void 0,void 0,void 0,(function*(){const e=window.localStorage;s(2,n=Z(e,F,"theme"));try{let t=JSON.parse(e.getItem("chats"));s(0,l=t||l),console.log(t)}catch(t){console.warn(t)}}))));let c="",o="";const r=["I'm just here to listen. :)","Your feelings are valid. Keep talking. It's okay.","Keep going. :)","*nods* Okay..."],h=(e,t,a,n,i)=>{if(n!==i)return l;switch(e){case 8:break;case 0:let i=100*Math.random()%4;i=Math.floor(i),console.log(t[i]);let c=new Date,o=c.toLocaleTimeString(),r=c.toLocaleDateString().split("/").reverse().join(".");return s(0,l=[...a,{content:t[i],sender:"theVoid",timestamp:`${r} - ${o}`}]),n=0,e=8,l;default:n=1,setTimeout((()=>{console.log("void called"),h(e-=1,t,a,n,1)}),1e3)}};return e.$$set=e=>{"messageList"in e&&s(0,l=e.messageList),"timer"in e&&s(1,i=e.timer)},[l,i,n,c,o,r,e=>{console.log(e),s(0,l=h(i,r,l,0,0))},function(e){l=e,s(0,l)},function(e){i=e,s(1,i)},function(e){c=e,s(3,c)},function(e){o=e,s(4,o)},()=>{console.log("click")},function(e){l=e,s(0,l)},function(e){c=e,s(3,c)}]}class we extends e{constructor(e){super(),t(this,e,be,Ee,s,{messageList:0,timer:1})}}export{we as default};
