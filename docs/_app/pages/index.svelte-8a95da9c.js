import{S as t,i as e,s,e as a,k as n,t as l,c as i,a as c,n as o,g as r,d as h,b as u,f,H as m,J as d,K as g,L as v,M as p,I as $,N,O as E,P as b,Q as w,h as S,l as k,x as L,R as T,T as I,U as D,r as C,u as y,w as O,V as P,W as x,X as V,Y as A,Z as U,j as B,_ as M,m as j,o as z,$ as q,v as K,A as _,a0 as J,a1 as Y}from"../chunks/vendor-1f515b18.js";import{c as H,s as Q,a as R,t as W,M as X,f as Z,b as F}from"../chunks/Menu-d866c871.js";function G(t){let e,s,E,b,w,S,k,L,T,I;return{c(){e=a("section"),s=a("input"),E=n(),b=a("div"),w=a("button"),S=a("span"),k=l("send"),L=l("\r\n\t\t\tSend"),this.h()},l(t){e=i(t,"SECTION",{id:!0,class:!0});var a=c(e);s=i(a,"INPUT",{id:!0,class:!0}),E=o(a),b=i(a,"DIV",{id:!0,class:!0});var n=c(b);w=i(n,"BUTTON",{});var l=c(w);S=i(l,"SPAN",{class:!0});var u=c(S);k=r(u,"send"),u.forEach(h),L=r(l,"\r\n\t\t\tSend"),l.forEach(h),n.forEach(h),a.forEach(h),this.h()},h(){u(s,"id","textInput"),u(s,"class","svelte-1rbu9a4"),u(S,"class","material-icons"),u(b,"id","submit"),u(b,"class","svelte-1rbu9a4"),u(e,"id","inputArea"),u(e,"class","svelte-1rbu9a4")},m(a,n){f(a,e,n),m(e,s),d(s,t[0]),m(e,E),m(e,b),m(b,w),m(w,S),m(S,k),m(w,L),T||(I=[g(s,"input",t[8]),g(s,"keypress",(function(){v(t[2].bind(t[0]))&&t[2].bind(t[0]).apply(this,arguments)})),g(w,"mousedown",t[9]),g(e,"click",p(t[7]))],T=!0)},p(e,[a]){t=e,1&a&&s.value!==t[0]&&d(s,t[0])},i:$,o:$,d(t){t&&h(e),T=!1,N(I)}}}function tt(t,e,s){let{messageList:a}=e,{timer:n=0}=e,{chatName:l}=e,{fileName:i}=e,c="";E();const o=t=>{switch(t[0]){case"/":let e=t.slice(1).split(" ");switch(e[0]){case"save":R(i,a);break;case"stash":Q(window.localStorage,l,a);break;case"clear":switch(console.log(e),e[1]){case"stash":H(window.localStorage);break;case"chat":s(3,a=[]);break;default:t="invalid input"}break;default:t="invalid input"}break;default:r(t)}},r=t=>{if(!t)return;let e=new Date,n=e.toLocaleTimeString(),l=e.toLocaleDateString().split("/").reverse().join(".");s(3,a=[...a,{content:t,sender:"user",timestamp:`${l} - ${n}`}]),s(0,c="")};return t.$$set=t=>{"messageList"in t&&s(3,a=t.messageList),"timer"in t&&s(4,n=t.timer),"chatName"in t&&s(5,l=t.chatName),"fileName"in t&&s(6,i=t.fileName)},[c,o,t=>{"enter"==t.key.toLowerCase()&&(o(c),s(0,c="")),s(4,n=7)},a,n,l,i,function(e){b.call(this,t,e)},function(){c=this.value,s(0,c)},t=>{o(c),t.preventDefault()}]}class et extends t{constructor(t){super(),e(this,t,tt,G,s,{messageList:3,timer:4,chatName:5,fileName:6})}}function st(t){let e,s,d,g,v,p,N,E=t[0].timestamp+"",b=t[0].content+"";return{c(){e=a("div"),s=a("span"),d=l(E),g=n(),v=a("p"),p=l(b),this.h()},l(t){e=i(t,"DIV",{class:!0});var a=c(e);s=i(a,"SPAN",{class:!0});var n=c(s);d=r(n,E),n.forEach(h),a.forEach(h),g=o(t),v=i(t,"P",{class:!0});var l=c(v);p=r(l,b),l.forEach(h),this.h()},h(){u(s,"class","timestamp svelte-1gbq3y0"),u(e,"class","timestamp svelte-1gbq3y0"),u(v,"class",N=w(t[0].sender)+" svelte-1gbq3y0")},m(t,a){f(t,e,a),m(e,s),m(s,d),f(t,g,a),f(t,v,a),m(v,p)},p(t,[e]){1&e&&E!==(E=t[0].timestamp+"")&&S(d,E),1&e&&b!==(b=t[0].content+"")&&S(p,b),1&e&&N!==(N=w(t[0].sender)+" svelte-1gbq3y0")&&u(v,"class",N)},i:$,o:$,d(t){t&&h(e),t&&h(g),t&&h(v)}}}function at(t,e,s){let{message:a}=e;return t.$$set=t=>{"message"in t&&s(0,a=t.message)},[a]}class nt extends t{constructor(t){super(),e(this,t,at,st,s,{message:0})}}function lt(t){let e,s,v,p,E,b,w,S,k,L=function(t){let e,s,d,v,p,E,b,w,S,k,L,T,I,D,C,y;return{c(){e=a("div"),s=a("button"),d=a("span"),v=l("Stash Chat"),p=n(),E=a("div"),b=a("button"),w=a("span"),S=l("Save Chat"),k=n(),L=a("div"),T=a("button"),I=a("span"),D=l("Clear Stash"),this.h()},l(t){e=i(t,"DIV",{id:!0,class:!0});var a=c(e);s=i(a,"BUTTON",{});var n=c(s);d=i(n,"SPAN",{});var l=c(d);v=r(l,"Stash Chat"),l.forEach(h),n.forEach(h),a.forEach(h),p=o(t),E=i(t,"DIV",{id:!0,class:!0});var u=c(E);b=i(u,"BUTTON",{});var f=c(b);w=i(f,"SPAN",{});var m=c(w);S=r(m,"Save Chat"),m.forEach(h),f.forEach(h),u.forEach(h),k=o(t),L=i(t,"DIV",{id:!0,class:!0});var g=c(L);T=i(g,"BUTTON",{});var $=c(T);I=i($,"SPAN",{});var N=c(I);D=r(N,"Clear Stash"),N.forEach(h),$.forEach(h),g.forEach(h),this.h()},h(){u(e,"id","stash-chat"),u(e,"class","svelte-1ish562"),u(E,"id","save-chat"),u(E,"class","svelte-1ish562"),u(L,"id","clear-stash"),u(L,"class","svelte-1ish562")},m(a,n){f(a,e,n),m(e,s),m(s,d),m(d,v),f(a,p,n),f(a,E,n),m(E,b),m(b,w),m(w,S),f(a,k,n),f(a,L,n),m(L,T),m(T,I),m(I,D),C||(y=[g(s,"click",t[6]),g(b,"click",t[7]),g(T,"click",t[8])],C=!0)},p:$,d(t){t&&h(e),t&&h(p),t&&h(E),t&&h(k),t&&h(L),C=!1,N(y)}}}(t);return{c(){e=a("input"),s=n(),L&&L.c(),v=n(),p=a("div"),E=a("button"),b=a("span"),w=l("Clear Chat"),this.h()},l(t){e=i(t,"INPUT",{id:!0,placeholder:!0,class:!0}),s=o(t),L&&L.l(t),v=o(t),p=i(t,"DIV",{id:!0,class:!0});var a=c(p);E=i(a,"BUTTON",{});var n=c(E);b=i(n,"SPAN",{});var l=c(b);w=r(l,"Clear Chat"),l.forEach(h),n.forEach(h),a.forEach(h),this.h()},h(){u(e,"id","name"),u(e,"placeholder","Name this chat, please c:"),u(e,"class","svelte-1ish562"),u(p,"id","clear-chat"),u(p,"class","svelte-1ish562")},m(a,n){f(a,e,n),d(e,t[0]),f(a,s,n),L&&L.m(a,n),f(a,v,n),f(a,p,n),m(p,E),m(E,b),m(b,w),S||(k=[g(e,"input",t[5]),g(E,"click",t[9])],S=!0)},p(t,s){1&s&&e.value!==t[0]&&d(e,t[0]),L.p(t,s)},d(t){t&&h(e),t&&h(s),L&&L.d(t),t&&h(v),t&&h(p),S=!1,N(k)}}}function it(t){let e,s,d,v,p,N,E,b=1==t[2]&&lt(t);return{c(){e=a("aside"),s=a("div"),d=a("button"),v=l("Chat Options"),p=n(),b&&b.c(),this.h()},l(t){e=i(t,"ASIDE",{id:!0,class:!0});var a=c(e);s=i(a,"DIV",{id:!0,class:!0});var n=c(s);d=i(n,"BUTTON",{});var l=c(d);v=r(l,"Chat Options"),l.forEach(h),n.forEach(h),p=o(a),b&&b.l(a),a.forEach(h),this.h()},h(){u(s,"id","toggle-button"),u(s,"class","svelte-1ish562"),u(e,"id","stash-component"),u(e,"class","svelte-1ish562")},m(a,n){f(a,e,n),m(e,s),m(s,d),m(d,v),m(e,p),b&&b.m(e,null),N||(E=g(d,"click",t[4]),N=!0)},p(t,[s]){1==t[2]?b?b.p(t,s):(b=lt(t),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:$,o:$,d(t){t&&h(e),b&&b.d(),N=!1,E()}}}function ct(t,e,s){(new Date).toDateString().replace(/\s/g,"-");let a=!1,{chatName:n=""}=e,{messageList:l}=e;const i=t=>(t=!t,console.log(t),t);return t.$$set=t=>{"chatName"in t&&s(0,n=t.chatName),"messageList"in t&&s(1,l=t.messageList)},[n,l,a,i,()=>{s(2,a=i(a))},function(){n=this.value,s(0,n)},()=>{Q(window.localStorage,n,l)},()=>{R(n,l)},()=>{H(window.localStorage)},()=>{s(1,l=[])}]}class ot extends t{constructor(t){super(),e(this,t,ct,it,s,{chatName:0,messageList:1})}}function rt(t,e,s){const a=t.slice();return a[5]=e[s],a}function ht(t){let e,s,a=t[1],n=[];for(let i=0;i<a.length;i+=1)n[i]=ft(rt(t,a,i));const l=t=>y(n[t],1,1,(()=>{n[t]=null}));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=k()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);e=k()},m(t,a){for(let e=0;e<n.length;e+=1)n[e].m(t,a);f(t,e,a),s=!0},p(t,s){if(14&s){let i;for(a=t[1],i=0;i<a.length;i+=1){const l=rt(t,a,i);n[i]?(n[i].p(l,s),L(n[i],1)):(n[i]=ft(l),n[i].c(),L(n[i],1),n[i].m(e.parentNode,e))}for(C(),i=a.length;i<n.length;i+=1)l(i);O()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)L(n[t]);s=!0}},o(t){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)y(n[e]);s=!1},d(t){P(n,t),t&&h(e)}}}function ut(t){let e,s,d,g,v,p,$=t[3](t[5])+"";return{c(){e=a("div"),s=l($),d=n(),this.h()},l(t){e=i(t,"DIV",{class:!0});var a=c(e);s=r(a,$),d=o(a),a.forEach(h),this.h()},h(){u(e,"class","toastMessage svelte-tgtuc9")},m(t,a){f(t,e,a),m(e,s),m(e,d),p=!0},p(t,e){(!p||2&e)&&$!==($=t[3](t[5])+"")&&S(s,$)},i(t){p||(T((()=>{v&&v.end(1),g=I(e,x,{duration:500,y:-100}),g.start()})),p=!0)},o(t){g&&g.invalidate(),v=D(e,V,{duration:400}),p=!1},d(t){t&&h(e),t&&v&&v.end()}}}function ft(t){let e,s,a=!t[2]&&ut(t);return{c(){a&&a.c(),e=k()},l(t){a&&a.l(t),e=k()},m(t,n){a&&a.m(t,n),f(t,e,n),s=!0},p(t,s){t[2]?a&&(C(),y(a,1,1,(()=>{a=null})),O()):a?(a.p(t,s),4&s&&L(a,1)):(a=ut(t),a.c(),L(a,1),a.m(e.parentNode,e))},i(t){s||(L(a),s=!0)},o(t){y(a),s=!1},d(t){a&&a.d(t),t&&h(e)}}}function mt(t){var e;let s,n,l,o=(null==(e=t[1])?void 0:e.length)>0&&ht(t);return{c(){s=a("div"),o&&o.c(),this.h()},l(t){s=i(t,"DIV",{class:!0,id:!0});var e=c(s);o&&o.l(e),e.forEach(h),this.h()},h(){u(s,"class",n=w(t[0])+" svelte-tgtuc9"),u(s,"id","toastContainer")},m(t,e){f(t,s,e),o&&o.m(s,null),l=!0},p(t,[e]){var a;(null==(a=t[1])?void 0:a.length)>0?o?(o.p(t,e),2&e&&L(o,1)):(o=ht(t),o.c(),L(o,1),o.m(s,null)):o&&(C(),y(o,1,1,(()=>{o=null})),O()),(!l||1&e&&n!==(n=w(t[0])+" svelte-tgtuc9"))&&u(s,"class",n)},i(t){l||(L(o),l=!0)},o(t){y(o),l=!1},d(t){t&&h(s),o&&o.d()}}}function dt(t,e,s){let a,n,{theme:l=""}=e,i=!1;return W.subscribe((t=>{t&&(console.log(t),s(1,a=t))})),t.$$set=t=>{"theme"in t&&s(0,l=t.theme)},[l,a,i,function(t){return s(2,i=!0),console.log("now serving"),n=a.filter((e=>t.id==e.id))[0],a.indexOf(t),setTimeout((()=>{console.log("loading next toast"),s(1,a=a.filter((e=>t.id!==e.id))),W.update((()=>a)),s(2,i=!1)}),2*n.duration),t.message}]}class gt extends t{constructor(t){super(),e(this,t,dt,mt,s,{theme:0})}}function vt(t,e,s){const a=t.slice();return a[18]=e[s],a}function pt(t){let e,s,n,o;return{c(){e=a("p"),s=l("Talk to me."),this.h()},l(t){e=i(t,"P",{class:!0});var a=c(e);s=r(a,"Talk to me."),a.forEach(h),this.h()},h(){u(e,"class","svelte-rzscfc")},m(t,a){f(t,e,a),m(e,s),o=!0},p:$,i(t){o||(t&&T((()=>{n||(n=J(e,V,{},!0)),n.run(1)})),o=!0)},o(t){t&&(n||(n=J(e,V,{},!1)),n.run(0)),o=!1},d(t){t&&h(e),t&&n&&n.end()}}}function $t(t){let e,s,a=t[0],n=[];for(let i=0;i<a.length;i+=1)n[i]=Nt(vt(t,a,i));const l=t=>y(n[t],1,1,(()=>{n[t]=null}));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=k()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);e=k()},m(t,a){for(let e=0;e<n.length;e+=1)n[e].m(t,a);f(t,e,a),s=!0},p(t,s){if(1&s){let i;for(a=t[0],i=0;i<a.length;i+=1){const l=vt(t,a,i);n[i]?(n[i].p(l,s),L(n[i],1)):(n[i]=Nt(l),n[i].c(),L(n[i],1),n[i].m(e.parentNode,e))}for(C(),i=a.length;i<n.length;i+=1)l(i);O()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)L(n[t]);s=!0}},o(t){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)y(n[e]);s=!1},d(t){P(n,t),t&&h(e)}}}function Nt(t){let e,s,l,r,u;return s=new nt({props:{message:t[18]}}),{c(){e=a("span"),B(s.$$.fragment),l=n()},l(t){e=i(t,"SPAN",{});var a=c(e);j(s.$$.fragment,a),l=o(a),a.forEach(h)},m(t,a){f(t,e,a),z(s,e,null),m(e,l),u=!0},p(t,e){const a={};1&e&&(a.message=t[18]),s.$set(a)},i(t){u||(L(s.$$.fragment,t),T((()=>{r||(r=J(e,Y,{duration:200},!0)),r.run(1)})),u=!0)},o(t){y(s.$$.fragment,t),r||(r=J(e,Y,{duration:200},!1)),r.run(0),u=!1},d(t){t&&h(e),K(s),t&&r&&r.end()}}}function Et(t){let e,s,l,r,d,g,p,$,N,E,b,S,k,T,I,D,P,x,V,_,J,Y;s=new X({});const H=[$t,pt],Q=[];function R(t,e){return 0!==t[0].length?0:1}function W(e){t[7](e)}function Z(e){t[8](e)}function F(e){t[9](e)}function G(e){t[10](e)}p=R(t),$=Q[p]=H[p](t);let tt={};function st(e){t[12](e)}function at(e){t[13](e)}void 0!==t[0]&&(tt.messageList=t[0]),void 0!==t[1]&&(tt.timer=t[1]),void 0!==t[3]&&(tt.chatName=t[3]),void 0!==t[4]&&(tt.fileName=t[4]),E=new et({props:tt}),A.push((()=>U(E,"messageList",W))),A.push((()=>U(E,"timer",Z))),A.push((()=>U(E,"chatName",F))),A.push((()=>U(E,"fileName",G))),E.$on("click",t[11]),E.$on("voidInvoked",(function(){v(t[6].bind(t[1],t[5],t[0]))&&t[6].bind(t[1],t[5],t[0]).apply(this,arguments)}));let nt={};return void 0!==t[0]&&(nt.messageList=t[0]),void 0!==t[3]&&(nt.chatName=t[3]),D=new ot({props:nt}),A.push((()=>U(D,"messageList",st))),A.push((()=>U(D,"chatName",at))),_=new gt({props:{theme:t[2]}}),{c(){e=n(),B(s.$$.fragment),l=n(),r=a("main"),d=a("div"),g=a("section"),$.c(),N=n(),B(E.$$.fragment),I=n(),B(D.$$.fragment),V=n(),B(_.$$.fragment),this.h()},l(t){M('[data-svelte="svelte-1a5pwot"]',document.head).forEach(h),e=o(t),j(s.$$.fragment,t),l=o(t),r=i(t,"MAIN",{class:!0});var a=c(r);d=i(a,"DIV",{id:!0,class:!0});var n=c(d);g=i(n,"SECTION",{id:!0,class:!0});var u=c(g);$.l(u),u.forEach(h),n.forEach(h),N=o(a),j(E.$$.fragment,a),I=o(a),j(D.$$.fragment,a),V=o(a),j(_.$$.fragment,a),a.forEach(h),this.h()},h(){document.title="a softer space",u(g,"id","animatedList"),u(g,"class","svelte-rzscfc"),u(d,"id","messages"),u(d,"class","svelte-rzscfc"),u(r,"class",J=w(t[2])+" svelte-rzscfc")},m(t,a){f(t,e,a),z(s,t,a),f(t,l,a),f(t,r,a),m(r,d),m(d,g),Q[p].m(g,null),m(r,N),z(E,r,null),m(r,I),z(D,r,null),m(r,V),z(_,r,null),Y=!0},p(e,[s]){let a=p;p=R(t=e),p===a?Q[p].p(t,s):(C(),y(Q[a],1,1,(()=>{Q[a]=null})),O(),$=Q[p],$?$.p(t,s):($=Q[p]=H[p](t),$.c()),L($,1),$.m(g,null));const n={};!b&&1&s&&(b=!0,n.messageList=t[0],q((()=>b=!1))),!S&&2&s&&(S=!0,n.timer=t[1],q((()=>S=!1))),!k&&8&s&&(k=!0,n.chatName=t[3],q((()=>k=!1))),!T&&16&s&&(T=!0,n.fileName=t[4],q((()=>T=!1))),E.$set(n);const l={};!P&&1&s&&(P=!0,l.messageList=t[0],q((()=>P=!1))),!x&&8&s&&(x=!0,l.chatName=t[3],q((()=>x=!1))),D.$set(l);const i={};4&s&&(i.theme=t[2]),_.$set(i),(!Y||4&s&&J!==(J=w(t[2])+" svelte-rzscfc"))&&u(r,"class",J)},i(t){Y||(L(s.$$.fragment,t),L($),L(E.$$.fragment,t),L(D.$$.fragment,t),L(_.$$.fragment,t),Y=!0)},o(t){y(s.$$.fragment,t),y($),y(E.$$.fragment,t),y(D.$$.fragment,t),y(_.$$.fragment,t),Y=!1},d(t){t&&h(e),K(s,t),t&&h(l),t&&h(r),Q[p].d(),K(E),K(D),K(_)}}}function bt(t,e,s){var a=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))((function(n,l){function i(t){try{o(a.next(t))}catch(e){l(e)}}function c(t){try{o(a.throw(t))}catch(e){l(e)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(i,c)}o((a=a.apply(t,e||[])).next())}))};let n="soft-blue",{messageList:l=[],timer:i=8}=e;_((()=>a(void 0,void 0,void 0,(function*(){const t=window.localStorage;s(2,n=Z(t,F,"theme"));try{let e=JSON.parse(t.getItem("chats"));s(0,l=e||l),console.log(e)}catch(e){console.warn(e)}}))));let c="",o="";const r=["I'm just here to listen. :)","Your feelings are valid. Keep talking. It's okay.","Keep going. :)","*nods* Okay..."],h=(t,e,a,n,i)=>{if(n!==i)return l;switch(t){case 8:break;case 0:let i=100*Math.random()%4;i=Math.floor(i),console.log(e[i]);let c=new Date,o=c.toLocaleTimeString(),r=c.toLocaleDateString().split("/").reverse().join(".");return s(0,l=[...a,{content:e[i],sender:"theVoid",timestamp:`${r} - ${o}`}]),n=0,t=8,l;default:n=1,setTimeout((()=>{console.log("void called"),h(t-=1,e,a,n,1)}),1e3)}};return t.$$set=t=>{"messageList"in t&&s(0,l=t.messageList),"timer"in t&&s(1,i=t.timer)},[l,i,n,c,o,r,t=>{console.log(t),s(0,l=h(i,r,l,0,0))},function(t){l=t,s(0,l)},function(t){i=t,s(1,i)},function(t){c=t,s(3,c)},function(t){o=t,s(4,o)},()=>{console.log("click")},function(t){l=t,s(0,l)},function(t){c=t,s(3,c)}]}class wt extends t{constructor(t){super(),e(this,t,bt,Et,s,{messageList:0,timer:1})}}export{wt as default};
